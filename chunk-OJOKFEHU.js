import{a as S,b as i,c as y,d as O,e as R,f as E,h as v,i as F,j as N,k,l as T,m as D,n as V,o as I}from"./chunk-MDTR3QT2.js";import{e as _,h as P}from"./chunk-YHE6EI6Y.js";import{b as w}from"./chunk-VARBTXGR.js";import{Ea as f,Kb as M,Pa as c,Ra as h,Sa as e,Ta as t,Ua as a,Ya as m,db as o,gb as b,hb as C,ib as x,va as l,za as d}from"./chunk-LATPFVPJ.js";var G=class g{constructor(s,n){this.fb=s;this.http=n;this.registerForm=this.fb.group({name:["",i.required],email:["",[i.required,i.email]],password:["",i.required],phone:["",[i.required,i.pattern("^[0-9]{10}$")]]})}registerForm;message="";toastMessage="";showToast=!1;selectedRole="farmer";ngOnInit(){console.log("RegisterComponent loaded..")}showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}showSuccessToast(s){this.toastMessage=s,this.showToast=!0,setTimeout(()=>{this.showToast=!1},3e3)}onSubmit(){if(this.registerForm.invalid){this.toastMessage="Please fill in all fields correctly.",this.showToast=!0;return}let s=this.registerForm.value,n="";this.selectedRole==="farmer"?n="http://localhost:8000/FARMERSERVICE/farmers/register":this.selectedRole==="dealer"&&(n="http://localhost:8000/DEALERSERVICE/dealer/register"),this.http.post(n,s).subscribe({next:r=>{this.showSuccessToast("Registered Successfully!"),this.registerForm.reset()},error:r=>{this.showSuccessToast(r.error||"Registration failed!")}})}static \u0275fac=function(n){return new(n||g)(d(D),d(w))};static \u0275cmp=f({type:g,selectors:[["app-register"]],decls:36,vars:5,consts:[[1,"register-container"],[1,"register-card"],[1,"role-select"],["for","role"],["id","role","name","role",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","farmer"],["value","dealer"],[3,"ngSubmit","formGroup"],["type","text","formControlName","name","placeholder","Enter your name"],["type","email","formControlName","email","placeholder","Enter your email"],[1,"password-wrapper"],["formControlName","password","placeholder","Create a password",3,"type"],[1,"toggle-icon",3,"click"],["type","text","formControlName","phone","placeholder","Enter your phone number"],["type","submit"],[1,"login-link"],["routerLink","/auth/login"]],template:function(n,r){n&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),o(3,"\u{1F33E} Sign Up"),t(),e(4,"div",2)(5,"label",3),o(6,"I am a:"),t(),e(7,"select",4),x("ngModelChange",function(p){return C(r.selectedRole,p)||(r.selectedRole=p),p}),e(8,"option",5),o(9,"Select Role"),t(),e(10,"option",6),o(11,"Farmer"),t(),e(12,"option",7),o(13,"Dealer"),t()()(),e(14,"form",8),m("ngSubmit",function(){return r.onSubmit()}),e(15,"label"),o(16,"Name"),t(),a(17,"input",9),e(18,"label"),o(19,"Email"),t(),a(20,"input",10),e(21,"label"),o(22,"Password"),t(),e(23,"div",11),a(24,"input",12),e(25,"span",13),m("click",function(){return r.togglePasswordVisibility()}),a(26,"i"),t()(),e(27,"label"),o(28,"Phone"),t(),a(29,"input",14),e(30,"button",15),o(31,"Register"),t()(),e(32,"p",16),o(33," Already a user? "),e(34,"a",17),o(35,"Login here"),t()()()()),n&2&&(l(7),b("ngModel",r.selectedRole),l(7),c("formGroup",r.registerForm),l(10),c("type",r.showPassword?"text":"password"),l(2),h(r.showPassword?"fa fa-eye":"fa fa-eye-slash"))},dependencies:[M,I,E,k,T,S,N,y,O,v,F,V,R,P,_],styles:["body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:linear-gradient(to right,#f7fcf7,#e2f1e9);margin:0;padding:0}.register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:100px;padding-bottom:50px;min-height:calc(100vh - 80px);background-color:#f3fdf4}.register-card[_ngcontent-%COMP%]{background-color:#fff;padding:30px 25px;border-radius:12px;box-shadow:0 4px 12px #00000014;width:100%;max-width:440px;border:1px solid #dfe9e4;margin-top:-17px;height:608px}.register-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#2e8b57;margin-bottom:10px}.role-select[_ngcontent-%COMP%]{text-align:center}.role-select[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#444;margin-right:8px}.register-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;display:block;color:#333}.register-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .register-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:9px 10px;border:1px solid #ccc;border-radius:6px;margin-bottom:16px;font-size:14px;transition:border-color .2s}.register-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .register-card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#2e8b57;outline:none;box-shadow:0 0 4px #2e8b5733}.register-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#2e8b57;color:#fff;font-weight:700;border:none;border-radius:6px;font-size:15px}.register-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#257247}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2e8b57;font-weight:700;text-decoration:none}.password-wrapper[_ngcontent-%COMP%]{position:relative}.password-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:9px 38px 9px 10px;border:1px solid #ccc;border-radius:6px;margin-bottom:16px;font-size:14px;box-sizing:border-box}.toggle-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;transform:translateY(-50%);cursor:pointer;color:#888;font-size:16px}"]})};export{G as RegisterComponent};
